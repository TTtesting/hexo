---
title: QQ群友在线/离线，如何测试？
id: 123
categories:
  - 未分类
date: 2017-06-10 21:01:15
tags:
---

上篇文章『QQ好友在线/离线，如何测试？』针对即时通讯的“状态”进行了分析和总结，主要说到了QQ好友在线/离线实现方案，测试过程中需要注意的测试点。

&nbsp;

针对好友状态实时性的要求需要使用不同的方式，如果实时性要求高可以采用推送的方式，那么QQ好友针对在线/离线要求较高，可以采用推送的方式进行同步。大家在做通讯工具方便的项目时，如果实时性要求不高的话，可以采用轮询拉取的方式同步。备注：轮询方式和推送方式在上篇已经介绍到，在这里就不过多描述。

&nbsp;
> QQ群友的状态又是按照什么方式进行同步状态的呢？
> 
> 
> QQ群友的状态又该怎么去测试呢？
我们带着这个问题，继续了解和学习，现总结分享如下：

&nbsp;

简单回顾下QQ好友在线/离线流程，尽量用流程图形式能让大家看明白。

&nbsp;
> 用户登录时流程：
> 
> 
> ![](http://www.87testing.com/assets/blogimg/login1.png)
&nbsp;
> 用户登出时流程：
> 
> 
> ![](http://www.87testing.com/assets/blogimg/login2.png)
&nbsp;
> 用户登录时看到哪些好友在线哪些离线的流程：
> 
> 
> ![](http://www.87testing.com/assets/blogimg/login3.png)
&nbsp;

&nbsp;
> 用户状态变更时的实时推送流程：
> 
> 
> ![](http://www.87testing.com/assets/blogimg/login4.png)
群友状态按正常来讲也可以使用实时推送的方式，从而保证状态的实时性，但是目前大多数还是采用轮询拉取方式，主要因为群友状态实时推送压力实在太大，全部实时获取系统往往会承受不了。那么轮询拉取方式也会给服务器带来比较大的压力，可以使用按需拉取，延时拉取的方式，用户群可能较多，当用户进入某一个群时才进行用户状态的拉取。从来降低服务器压力，且满足需求。

&nbsp;

从测试角度主要考虑：

&nbsp;
> 缓存机制能够正常，缓存数据的准确性；
> 
> 
> 拉取方式的测试，当进入某一个群时才拉取；
> 
> 
> 用户在线/离线状态的正确性校验；
> 
> 
> 并发测试；等等…